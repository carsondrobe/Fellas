{% load static %}
<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="../static/home.css">

    <!-- Leaflet CSS and JS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

    <!-- CSS for widgets -->
    <link rel="stylesheet" type="text/css" href="{% static 'CSS/fire_widgets.css' %}">

    <title>Dashboard</title>
</head>

<body>
    <!-- NAVBAR -->
    {% include 'navbar.html' %}

    <div class="container-fluid">
        <div class="row pt-3">
            <!-- Station Map Column -->
            <div class="col-4 text-center border-right">
                <h2 id="station-name-code"></h2>
                <hr>
                <!-- Leaflet Map Implementation -->
                <div id="map" style="height: 50em; width: 100%;"></div>
                <script src="{% static 'map.js' %}"></script>
            </div>
            <!-- Fire Information Column -->
            <div class="col-md-8">
                <h2>
                    Fire Information
                </h2>
                <hr>

                
                <div class="row">
                <!-- Moisture Codes -->
                    <div class="card w-auto p-2 ml-3">
                        <div class="row">             
                        <!-- FFMC Card -->
                            <div class="text-center widget-y border-right p-2">
                                <h5 class="card-title">Fine Fuel Moisture Code</h5>
                                <div class="axis-y-container mt-3 mb-4">
                                    <div class="axis-y">
                                        <!-- Color-coded segments -->
                                        <div class="segment-y red" style="height: 16%; top: 0;"></div>
                                        <div class="segment-y orange" style="height: 4%; top: 16%;"></div>
                                        <div class="segment-y yellow" style="height: 6%; top: 20%;"></div>
                                        <div class="segment-y blue" style="height: 14%; top: 26%;"></div>
                                        <div class="segment-y green" style="height: 60%; top: 40%;"></div>
                                        <!-- ticks -->
                                        <div class="tick-y" style="top: 100%;"><label>0</label></div>
                                        <div class="tick-y" style="top: 40%;"><label>80</label></div>
                                        <div class="tick-y" style="top: 26%;"><label>87</label></div>
                                        <div class="tick-y" style="top: 20%;"><label>90</label></div>
                                        <div class="tick-y" style="top: 16%;"><label>92</label></div>
                                    </div>
                                    <div class="arrow-ffmc" id="arrow-ffmc">
                                        <div class="arrow-value-ffmc" id="arrowValue-ffmc"></div>
                                    </div>
                                </div>
                            </div>
                        <!-- DMC Card -->
                            <div class="text-center widget-y border-right p-2">
                                <h5 class="card-title">Duff Moisture Code</h5>
                                <div class="axis-y-container mt-3 mb-4">
                                    <div class="axis-y">
                                        <!-- Color-coded segments -->
                                        <div class="segment-y red" style="height: 22.5%; top: 0;"></div>
                                        <div class="segment-y orange" style="height: 26.25%; top: 22.5%;"></div>
                                        <div class="segment-y yellow" style="height: 17.5%; top: 48.75%;"></div>
                                        <div class="segment-y blue" style="height: 18.75%; top: 66.25%;"></div>
                                        <div class="segment-y green" style="height: 15%; top: 85%;"></div>
                                        <!-- ticks -->
                                        <div class="tick-y" style="top: 100%;"><label>0</label></div>
                                        <div class="tick-y" style="top: 85%;"><label>12</label></div>
                                        <div class="tick-y" style="top: 66.25%;"><label>27</label></div>
                                        <div class="tick-y" style="top: 48.75%;"><label>41</label></div>
                                        <div class="tick-y" style="top: 22.5%;"><label>62</label></div>
                                    </div>
                                    <div class="arrow-dmc" id="arrow-dmc">
                                        <div class="arrow-value-dmc" id="arrowValue-dmc"></div>
                                    </div>
                                </div>
                            </div>
                        <!-- DC Card -->
                            <div class="text-center widget-y p-2">
                                <h5 class="card-title">Drought<br>Code</h5>
                                <div class="axis-y-container mt-3 mb-4">
                                    <div class="axis-y">
                                        <!-- Color-coded segments -->
                                        <div class="segment-y red" style="height: 28%; top: 0;"></div>
                                        <div class="segment-y orange" style="height: 17%; top: 28%;"></div>
                                        <div class="segment-y yellow" style="height: 8%; top: 45%;"></div>
                                        <div class="segment-y blue" style="height: 31%; top: 53%;"></div>
                                        <div class="segment-y green" style="height: 16%; top: 84%;"></div>
                                        <!-- ticks -->
                                        <div class="tick-y" style="top: 100%;"><label>0</label></div>
                                        <div class="tick-y" style="top: 84%;"><label>80</label></div>
                                        <div class="tick-y" style="top: 53%;"><label>210</label></div>
                                        <div class="tick-y" style="top: 45%;"><label>275</label></div>
                                        <div class="tick-y" style="top: 28%;"><label>360</label></div>
                                    </div>
                                    <div class="arrow-dc" id="arrow-dc">
                                        <div class="arrow-value-dc" id="arrowValue-dc"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                <!-- Indexes -->
                    <div class="card w-auto p-2 ml-3">
                    <!-- ISI Card -->
                        <div class="text-center widget-x border-bottom w-auto p-2">
                            <h5 class="card-title">Initial Spread Index</h5>
                            <div class="axis-x-container">
                                <div class="axis-x">
                                    <!-- Color-coded segments -->
                                    <div class="segment-x green" style="width: 8%; left: 0;"></div>
                                    <div class="segment-x blue" style="width: 12%; left: 8%;"></div>
                                    <div class="segment-x yellow" style="width: 20%; left: 20%;"></div>
                                    <div class="segment-x orange" style="width: 20%; left: 40%;"></div>
                                    <div class="segment-x red" style="width: 41%; left: 60%;"></div>
                                    <!-- ticks -->
                                    <div class="tick-x" style="left: 0;"><label>0</label></div>
                                    <div class="tick-x" style="left: 8%;"><label>2</label></div>
                                    <div class="tick-x" style="left: 20%;"><label>5</label></div>
                                    <div class="tick-x" style="left: 40%;"><label>10</label></div>
                                    <div class="tick-x" style="left: 60%;"><label>15</label></div>
                                </div>
                                <div class="arrow-isi" id="arrow-isi">
                                    <div class="arrow-value-isi" id="arrowValue-isi"></div>
                                </div>
                            </div>
                        </div>
                    <!-- BI Card -->
                        <div class="text-center widget-x border-bottom w-auto p-2">
                            <h5 class="card-title">Buildup Index</h5>
                            <div class="axis-x-container">
                                <div class="axis-x">
                                    <!-- Color-coded segments -->
                                    <div class="segment-x green" style="width: 16.666%; left: 0;"></div>
                                    <div class="segment-x blue" style="width: 16.667%; left: 16.666%;"></div>
                                    <div class="segment-x yellow" style="width: 16.667%; left: 33.333%;"></div>
                                    <div class="segment-x orange" style="width: 25%; left: 50%;"></div>
                                    <div class="segment-x red" style="width: 26%; left: 75%;"></div>
                                    <!-- ticks -->
                                    <div class="tick-x" style="left: 0;"><label>0</label></div>
                                    <div class="tick-x" style="left: 16.666%;"><label>20</label></div>
                                    <div class="tick-x" style="left: 33.333%;"><label>40</label></div>
                                    <div class="tick-x" style="left: 50%;"><label>60</label></div>
                                    <div class="tick-x" style="left: 75%;"><label>90</label></div>
                                </div>
                                <div class="arrow-bui" id="arrow-bui">
                                    <div class="arrow-value-bui" id="arrowValue-bui"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Row 2 -->
                <div class="row w-auto mt-3 ml-3">
                <!-- Danger Rating Card -->
                    <div class="card d-flex justify-content-center align-items-center text-center px-3 pt-2">
                        <h5 class="card-title">Fire Danger Rating</h5>
                        <div class="fire-danger-widget">
                            <div class="box low">LOW</div>
                            <div class="box moderate">MODERATE</div>
                            <div class="box high">HIGH</div>
                            <div class="box extreme">EXTREME</div>
                            <div class="line"></div>
                            <div class="arrow-danger-rating" id="arrow-danger-rating"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Popups -->
    {% include 'modals.html' %}

    <!-- Swap pages button -->
    <a href="{% url 'weather' %}">
        <img id="swapPageIcon" src="{%  static 'weather_icon.svg' %}" alt="weather_icon" >
    </a>

    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
    <script>
        {% if error %}
            alert("{{error}}");
        {% endif %}
    </script>

    <!-- JS for widgets -->
    <script src="{% static 'JavaScript/danger_rating.js' %}"></script>
    <script src="{% static 'JavaScript/dmc.js' %}"></script>
    <script src="{% static 'JavaScript/ffmc.js' %}"></script>
    <script src="{% static 'JavaScript/dc.js' %}"></script>
    <script src="{% static 'JavaScript/bui.js' %}"></script>
    <script src="{% static 'JavaScript/isi.js' %}"></script>
</body>

</html>